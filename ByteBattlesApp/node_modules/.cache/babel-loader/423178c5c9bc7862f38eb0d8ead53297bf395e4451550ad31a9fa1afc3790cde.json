{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport DangerousHTML from 'dangerous-html/vue';\nexport default {\n  name: 'Navigation',\n  data: function data() {\n    return {\n      user: null,\n      isMenuOpen: false\n    };\n  },\n  mounted: function mounted() {\n    this.checkAuth();\n    this.setupMediaQueryListener();\n    this.getLanguages();\n  },\n  methods: {\n    checkAuth: function checkAuth() {\n      var userData = localStorage.getItem('user');\n      if (userData) {\n        try {\n          var parsedData = JSON.parse(userData);\n          // Проверяем структуру данных\n          if (parsedData.user) {\n            this.user = parsedData.user;\n          } else if (parsedData.firstName) {\n            this.user = parsedData;\n          }\n          console.log('User data:', this.user);\n        } catch (error) {\n          console.error('Error parsing user data:', error);\n        }\n      }\n    },\n    toggleMenu: function toggleMenu() {\n      this.isMenuOpen = !this.isMenuOpen;\n      if (this.isMenuOpen) {\n        document.body.style.overflow = 'hidden';\n      } else {\n        document.body.style.overflow = '';\n      }\n    },\n    handleMenuClick: function handleMenuClick(event) {\n      // Закрываем меню при клике на ссылку\n      if (event.target.closest('.navigation__link')) {\n        this.isMenuOpen = false;\n        document.body.style.overflow = '';\n      }\n    },\n    profile: function profile() {\n      this.isMenuOpen = false;\n      document.body.style.overflow = '';\n      this.$router.push('/me');\n    },\n    navigateToAuth: function navigateToAuth() {\n      this.isMenuOpen = false;\n      document.body.style.overflow = '';\n      this.$router.push('/auth');\n    },\n    logout: function logout() {\n      localStorage.removeItem('user');\n      localStorage.removeItem('accessToken');\n      localStorage.removeItem('refreshToken');\n      localStorage.removeItem('rememberMe');\n      this.user = null;\n      this.isMenuOpen = false;\n      document.body.style.overflow = '';\n    },\n    setupMediaQueryListener: function setupMediaQueryListener() {\n      var _this = this;\n      var mediaQuery = window.matchMedia('(min-width: 992px)');\n      var handleViewportChange = function handleViewportChange(e) {\n        if (e.matches && _this.isMenuOpen) {\n          _this.isMenuOpen = false;\n          document.body.style.overflow = '';\n        }\n      };\n      mediaQuery.addEventListener('change', handleViewportChange);\n    }\n  }\n};","map":{"version":3,"names":["DangerousHTML","name","data","user","isMenuOpen","mounted","checkAuth","setupMediaQueryListener","getLanguages","methods","userData","localStorage","getItem","parsedData","JSON","parse","firstName","console","log","error","toggleMenu","document","body","style","overflow","handleMenuClick","event","target","closest","profile","$router","push","navigateToAuth","logout","removeItem","_this","mediaQuery","window","matchMedia","handleViewportChange","e","matches","addEventListener"],"sources":["src/components/navigation.vue"],"sourcesContent":["<template>\n  <div class=\"navigation-container1\">\n    <nav id=\"mainNavigation\" class=\"navigation\">\n      <div class=\"navigation__container\">\n        <a href=\"/\">\n          <div\n              aria-label=\"CodeCraft Template - Главная страница\"\n              class=\"navigation__logo\"\n          >\n            <svg\n                width=\"24\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                height=\"24\"\n                viewBox=\"0 0 24 24\"\n                aria-hidden=\"true\"\n                class=\"navigation__logo-icon\"\n            >\n              <path\n                  d=\"m16 18l6-6l-6-6M8 6l-6 6l6 6\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  stroke-width=\"2\"\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n              ></path>\n            </svg>\n            <span class=\"navigation__logo-text\">ByteBattles Template</span>\n          </div>\n        </a>\n        <button\n            id=\"navToggle\"\n            type=\"button\"\n            :aria-label=\"isMenuOpen ? 'Закрыть меню навигации' : 'Открыть меню навигации'\"\n            aria-controls=\"navMenu\"\n            :aria-expanded=\"isMenuOpen\"\n            @click=\"toggleMenu\"\n            class=\"navigation__toggle\"\n        >\n          <svg\n              width=\"24\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              aria-hidden=\"true\"\n              :class=\"['navigation-navigationtoggle-icon1', 'navigation__toggle-icon--menu', { 'navigation__toggle-icon--hidden': isMenuOpen }]\"\n          >\n            <path\n                d=\"M4 5h16M4 12h16M4 19h16\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                stroke-width=\"2\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n            ></path>\n          </svg>\n          <svg\n              width=\"24\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              aria-hidden=\"true\"\n              :class=\"['navigation-navigationtoggle-icon2', { 'navigation__toggle-icon--hidden': !isMenuOpen }]\"\n          >\n            <path\n                d=\"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1zm-5.5-3.5l-5 5m0-5l5 5\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                stroke-width=\"2\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n            ></path>\n          </svg>\n        </button>\n        <div\n            id=\"navMenu\"\n            :class=\"['navigation__menu', { 'navigation__menu--open': isMenuOpen }]\"\n            @click=\"handleMenuClick\"\n        >\n          <ul class=\"navigation__list\">\n            <li class=\"navigation__item\">\n              <a href=\"/task-template-builder\">\n                <div class=\"navigation__link\">\n                  <svg\n                      width=\"24\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      height=\"24\"\n                      viewBox=\"0 0 24 24\"\n                      aria-hidden=\"true\"\n                      class=\"navigation__link-icon\"\n                  >\n                    <path\n                        d=\"m16 18l6-6l-6-6M8 6l-6 6l6 6\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        stroke-width=\"2\"\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                    ></path>\n                  </svg>\n                  <span>Создать Шаблон</span>\n                </div>\n              </a>\n            </li>\n            <li class=\"navigation__item\">\n              <a href=\"/students\">\n                <div class=\"navigation__link\">\n                  <svg\n                      width=\"24\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      height=\"24\"\n                      viewBox=\"0 0 24 24\"\n                      aria-hidden=\"true\"\n                      class=\"navigation__link-icon\"\n                  >\n                    <g\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        stroke-width=\"2\"\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                    >\n                      <path d=\"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\"></path>\n                      <circle r=\"4\" cx=\"12\" cy=\"7\"></circle>\n                    </g>\n                  </svg>\n                  <span>Пользователи</span>\n                </div>\n              </a>\n            </li>\n            <li class=\"navigation__item\">\n              <a href=\"/tasks\">\n                <div class=\"navigation__link\">\n                  <svg\n                      width=\"24\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      height=\"24\"\n                      viewBox=\"0 0 24 24\"\n                      aria-hidden=\"true\"\n                      class=\"navigation__link-icon\"\n                  >\n                    <g\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        stroke-width=\"2\"\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                    >\n                      <path\n                          d=\"M9.671 4.136a2.34 2.34 0 0 1 4.659 0a2.34 2.34 0 0 0 3.319 1.915a2.34 2.34 0 0 1 2.33 4.033a2.34 2.34 0 0 0 0 3.831a2.34 2.34 0 0 1-2.33 4.033a2.34 2.34 0 0 0-3.319 1.915a2.34 2.34 0 0 1-4.659 0a2.34 2.34 0 0 0-3.32-1.915a2.34 2.34 0 0 1-2.33-4.033a2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915\"\n                      ></path>\n                      <circle r=\"3\" cx=\"12\" cy=\"12\"></circle>\n                    </g>\n                  </svg>\n                  <span>Задачи</span>\n                </div>\n              </a>\n            </li>\n          </ul>\n          <div class=\"navigation__actions\">\n            <div v-if=\"user\" class=\"user-menu\">\n              <button @click=\"profile\" class=\"navigation__action-btn btn-outline btn\">\n                {{ user.firstName }} {{ user.lastName }}\n              </button>\n              <button @click=\"logout\" class=\"navigation__action-btn btn-outline btn\">\n                Выйти\n              </button>\n            </div>\n            <div v-else class=\"auth-buttons\">\n              <button @click=\"navigateToAuth\" class=\"navigation__action-btn btn-outline btn\">\n                Войти\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </nav>\n    <div class=\"navigation-container2\">\n      <div class=\"navigation-container3\">\n        <DangerousHTML\n            html=\"<style>\n  @media (prefers-reduced-motion: reduce) {\n  .navigation__logo, .navigation__toggle, .navigation__link, .navigation__menu, .navigation__toggle-icon, .navigation__link::before {\n    transition: none;\n  }\n  .navigation__logo:hover, .navigation__link:hover {\n    transform: none;\n  }\n  .navigation__toggle:hover {\n    transform: none;\n  }\n  }\n  </style>\"\n        ></DangerousHTML>\n      </div>\n    </div>\n    <div class=\"navigation-container4\">\n      <div class=\"navigation-container5\">\n        <DangerousHTML\n            html=\"<script>\n  // Обработчик изменения размера окна для автоматического закрытия меню\n  (function(){\n    const mediaQuery = window.matchMedia('(min-width: 992px)')\n\n    function handleViewportChange(e) {\n      if (e.matches) {\n        // На больших экранах меню должно быть закрыто\n        const navMenu = document.getElementById('navMenu')\n        const navToggle = document.getElementById('navToggle')\n        if (navMenu && navToggle) {\n          navMenu.classList.remove('navigation__menu--open')\n          navToggle.setAttribute('aria-expanded', 'false')\n          navToggle.setAttribute('aria-label', 'Открыть меню навигации')\n          document.body.style.overflow = ''\n        }\n      }\n    }\n\n    mediaQuery.addEventListener('change', handleViewportChange)\n\n    // Инициализация при загрузке\n    handleViewportChange(mediaQuery)\n  })()\n  </script>\"\n        ></DangerousHTML>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DangerousHTML from 'dangerous-html/vue'\n\nexport default {\n  name: 'Navigation',\n  data() {\n    return {\n      user: null,\n      isMenuOpen: false\n    }\n  },\n  mounted() {\n    this.checkAuth()\n    this.setupMediaQueryListener()\n    this.getLanguages()\n  },\n  methods: {\n    checkAuth() {\n      const userData = localStorage.getItem('user')\n      if (userData) {\n        try {\n          const parsedData = JSON.parse(userData)\n          // Проверяем структуру данных\n          if (parsedData.user) {\n            this.user = parsedData.user\n          } else if (parsedData.firstName) {\n            this.user = parsedData\n          }\n          console.log('User data:', this.user)\n        } catch (error) {\n          console.error('Error parsing user data:', error)\n        }\n      }\n    },\n\n\n    toggleMenu() {\n      this.isMenuOpen = !this.isMenuOpen\n\n      if (this.isMenuOpen) {\n        document.body.style.overflow = 'hidden'\n      } else {\n        document.body.style.overflow = ''\n      }\n    },\n\n    handleMenuClick(event) {\n      // Закрываем меню при клике на ссылку\n      if (event.target.closest('.navigation__link')) {\n        this.isMenuOpen = false\n        document.body.style.overflow = ''\n      }\n    },\n\n    profile() {\n      this.isMenuOpen = false\n      document.body.style.overflow = ''\n      this.$router.push('/me')\n    },\n    navigateToAuth() {\n      this.isMenuOpen = false\n      document.body.style.overflow = ''\n      this.$router.push('/auth')\n    },\n\n    logout() {\n      localStorage.removeItem('user')\n      localStorage.removeItem('accessToken')\n      localStorage.removeItem('refreshToken')\n      localStorage.removeItem('rememberMe')\n      this.user = null\n      this.isMenuOpen = false\n      document.body.style.overflow = ''\n    },\n\n    setupMediaQueryListener() {\n      const mediaQuery = window.matchMedia('(min-width: 992px)')\n\n      const handleViewportChange = (e) => {\n        if (e.matches && this.isMenuOpen) {\n          this.isMenuOpen = false\n          document.body.style.overflow = ''\n        }\n      }\n\n      mediaQuery.addEventListener('change', handleViewportChange)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.navigation-container1 {\n  display: contents;\n}\n\n.navigation-navigationtoggle-icon1 {\n  color: var(--color-on-surface);\n  width: 24px;\n  height: 24px;\n  position: absolute;\n  transition: all var(--animation-duration-standard) var(--animation-curve-primary);\n}\n\n.navigation-navigationtoggle-icon2 {\n  color: var(--color-on-surface);\n  width: 24px;\n  height: 24px;\n  position: absolute;\n  transform: rotate(180deg) scale(0.8);\n  transition: all var(--animation-duration-standard) var(--animation-curve-primary);\n}\n\n.navigation__toggle-icon--hidden {\n  opacity: 0;\n  transform: rotate(180deg) scale(0.8);\n}\n\n.navigation-navigationtoggle-icon1:not(.navigation__toggle-icon--hidden) {\n  opacity: 1;\n  transform: scale(1);\n}\n\n.navigation-navigationtoggle-icon2:not(.navigation__toggle-icon--hidden) {\n  opacity: 1;\n  transform: rotate(0deg) scale(1);\n}\n\n.navigation-container2 {\n  display: none;\n}\n\n.navigation-container3 {\n  display: contents;\n}\n\n.navigation-container4 {\n  display: none;\n}\n\n.navigation-container5 {\n  display: contents;\n}\n\n/* Стили для мобильного меню */\n@media (max-width: 991px) {\n  .navigation__menu {\n    display: none;\n    position: absolute;\n    top: 100%;\n    left: 0;\n    right: 0;\n    background: var(--color-surface);\n    border-top: 1px solid var(--color-border);\n    box-shadow: var(--shadow-lg);\n    padding: var(--spacing-lg);\n    flex-direction: column;\n    gap: var(--spacing-md);\n  }\n\n  .navigation__menu--open {\n    display: flex;\n  }\n\n  .navigation__list {\n    flex-direction: column;\n    gap: var(--spacing-sm);\n  }\n\n  .navigation__actions {\n    margin-top: var(--spacing-md);\n    border-top: 1px solid var(--color-border);\n    padding-top: var(--spacing-md);\n  }\n\n  .user-menu,\n  .auth-buttons {\n    display: flex;\n    flex-direction: column;\n    gap: var(--spacing-md);\n    width: 100%;\n  }\n\n  .navigation__action-btn {\n    width: 100%;\n    justify-content: center;\n  }\n\n  .user-menu .navigation__action-btn:not(:last-child) {\n    margin-bottom: var(--spacing-sm);\n  }\n}\n\n@media (min-width: 992px) {\n  .navigation__toggle {\n    display: none;\n  }\n\n  .navigation__menu {\n    display: flex !important;\n    position: static;\n    flex-direction: row;\n    align-items: center;\n    gap: var(--spacing-xl);\n    background: transparent;\n    border: none;\n    box-shadow: none;\n    padding: 0;\n  }\n\n  .navigation__list {\n    flex-direction: row;\n    gap: var(--spacing-lg);\n  }\n\n  .navigation__actions {\n    margin-top: 0;\n    border-top: none;\n    padding-top: 0;\n  }\n\n  .user-menu,\n  .auth-buttons {\n    display: flex;\n    gap: var(--spacing-md);\n    width: 100%;\n  }\n\n  .user-menu .navigation__action-btn:first-child {\n    background: transparent;\n    border-color: transparent;\n    cursor: default;\n  }\n\n  .user-menu .navigation__action-btn:first-child:hover {\n    background: transparent;\n    border-color: transparent;\n  }\n}\n</style>"],"mappings":";;AAsOA,OAAAA,aAAA;AAEA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,IAAA;MACAC,UAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,SAAA;IACA,KAAAC,uBAAA;IACA,KAAAC,YAAA;EACA;EACAC,OAAA;IACAH,SAAA,WAAAA,UAAA;MACA,IAAAI,QAAA,GAAAC,YAAA,CAAAC,OAAA;MACA,IAAAF,QAAA;QACA;UACA,IAAAG,UAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAL,QAAA;UACA;UACA,IAAAG,UAAA,CAAAV,IAAA;YACA,KAAAA,IAAA,GAAAU,UAAA,CAAAV,IAAA;UACA,WAAAU,UAAA,CAAAG,SAAA;YACA,KAAAb,IAAA,GAAAU,UAAA;UACA;UACAI,OAAA,CAAAC,GAAA,oBAAAf,IAAA;QACA,SAAAgB,KAAA;UACAF,OAAA,CAAAE,KAAA,6BAAAA,KAAA;QACA;MACA;IACA;IAGAC,UAAA,WAAAA,WAAA;MACA,KAAAhB,UAAA,SAAAA,UAAA;MAEA,SAAAA,UAAA;QACAiB,QAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAC,QAAA;MACA;QACAH,QAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAC,QAAA;MACA;IACA;IAEAC,eAAA,WAAAA,gBAAAC,KAAA;MACA;MACA,IAAAA,KAAA,CAAAC,MAAA,CAAAC,OAAA;QACA,KAAAxB,UAAA;QACAiB,QAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAC,QAAA;MACA;IACA;IAEAK,OAAA,WAAAA,QAAA;MACA,KAAAzB,UAAA;MACAiB,QAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAC,QAAA;MACA,KAAAM,OAAA,CAAAC,IAAA;IACA;IACAC,cAAA,WAAAA,eAAA;MACA,KAAA5B,UAAA;MACAiB,QAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAC,QAAA;MACA,KAAAM,OAAA,CAAAC,IAAA;IACA;IAEAE,MAAA,WAAAA,OAAA;MACAtB,YAAA,CAAAuB,UAAA;MACAvB,YAAA,CAAAuB,UAAA;MACAvB,YAAA,CAAAuB,UAAA;MACAvB,YAAA,CAAAuB,UAAA;MACA,KAAA/B,IAAA;MACA,KAAAC,UAAA;MACAiB,QAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAC,QAAA;IACA;IAEAjB,uBAAA,WAAAA,wBAAA;MAAA,IAAA4B,KAAA;MACA,IAAAC,UAAA,GAAAC,MAAA,CAAAC,UAAA;MAEA,IAAAC,oBAAA,YAAAA,qBAAAC,CAAA;QACA,IAAAA,CAAA,CAAAC,OAAA,IAAAN,KAAA,CAAA/B,UAAA;UACA+B,KAAA,CAAA/B,UAAA;UACAiB,QAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAC,QAAA;QACA;MACA;MAEAY,UAAA,CAAAM,gBAAA,WAAAH,oBAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}