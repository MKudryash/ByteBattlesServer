{"ast":null,"code":"import _regenerator from \"/Users/julia/VueProject/ByteBattlesApp/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"/Users/julia/VueProject/ByteBattlesApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport DangerousHTML from 'dangerous-html/vue';\nexport default {\n  name: 'Auth',\n  components: {\n    DangerousHTML: DangerousHTML\n  },\n  data: function data() {\n    return {\n      raw1tjg: ' ',\n      activeTab: 'login',\n      loading: false,\n      loginForm: {\n        email: '',\n        password: '',\n        rememberMe: false\n      },\n      registerForm: {\n        firstName: '',\n        lastName: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n        agreeTerms: false\n      }\n    };\n  },\n  methods: {\n    setActiveTab: function setActiveTab(tab) {\n      this.activeTab = tab;\n    },\n    handleLogin: function handleLogin() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var userData, response, data, _t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.p = _context.n) {\n            case 0:\n              _this.loading = true;\n              _this.errorMessage = '';\n              _context.p = 1;\n              userData = {\n                email: _this.loginForm.email,\n                password: _this.loginForm.password\n              };\n              _context.n = 2;\n              return fetch(\"http://hobbit1021.ru:50305/api/auth/login\", {\n                //const response = await fetch(\"http://localhost:50307/api/auth/login\", {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                  // ИСПРАВЛЕНА ОПЕЧАТКА\n                  'accept': '*/*'\n                },\n                body: JSON.stringify(userData)\n              });\n            case 2:\n              response = _context.v;\n              if (response.ok) {\n                _context.n = 3;\n                break;\n              }\n              throw new Error(responseData.message || \"HTTP error! status: \".concat(response.status));\n            case 3:\n              _context.n = 4;\n              return response.json();\n            case 4:\n              data = _context.v;\n              console.log(\"Success: \", data);\n              localStorage.setItem('user', JSON.stringify(data));\n              localStorage.setItem('accessToken', data.accessToken);\n              localStorage.setItem('refreshToken', data.refreshToken);\n              if (_this.loginForm.rememberMe) {\n                localStorage.setItem('rememberMe', 'true');\n              }\n\n              // Перенаправляем на главную страницу\n              _this.$router.push('/');\n              _context.n = 6;\n              break;\n            case 5:\n              _context.p = 5;\n              _t = _context.v;\n              console.error('Login error:', _t);\n\n              // Показываем пользователю понятное сообщение об ошибке\n              if (_t.message === \"Invalid credentials\") {\n                _this.errorMessage = \"Неверный email или пароль. Проверьте введенные данные.\";\n              } else if (_t.message.includes(\"HTTP error! status: 401\")) {\n                _this.errorMessage = \"Неверный email или пароль. Проверьте введенные данные.\";\n              } else if (_t.message.includes(\"HTTP error! status: 400\")) {\n                _this.errorMessage = \"Некорректные данные. Проверьте формат email и пароля.\";\n              } else if (_t.message.includes(\"HTTP error! status: 500\")) {\n                _this.errorMessage = \"Внутренняя ошибка сервера. Попробуйте позже.\";\n              } else if (_t.message.includes(\"Network Error\") || _t.message.includes(\"Failed to fetch\")) {\n                _this.errorMessage = \"Ошибка соединения. Проверьте интернет-соединение.\";\n              } else {\n                _this.errorMessage = \"Ошибка входа: \" + _t.message;\n              }\n            case 6:\n              _context.p = 6;\n              _this.loading = false;\n              return _context.f(6);\n            case 7:\n              return _context.a(2);\n          }\n        }, _callee, null, [[1, 5, 6, 7]]);\n      }))();\n    },\n    handleRegister: function handleRegister() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        var userData, response, data, _t2;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.p = _context2.n) {\n            case 0:\n              if (!(_this2.registerForm.password !== _this2.registerForm.confirmPassword)) {\n                _context2.n = 1;\n                break;\n              }\n              alert('Пароли не совпадают');\n              return _context2.a(2);\n            case 1:\n              _this2.loading = true;\n              _context2.p = 2;\n              userData = {\n                firstName: _this2.registerForm.firstName,\n                lastName: _this2.registerForm.lastName,\n                email: _this2.registerForm.email,\n                password: _this2.registerForm.password,\n                role: [\"admin\"]\n              };\n              _context2.n = 3;\n              return fetch(\"http://hobbit1021.ru:50305/api/auth/register\", {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'accept': '*/*'\n                },\n                body: JSON.stringify(userData)\n              });\n            case 3:\n              response = _context2.v;\n              _context2.n = 4;\n              return response.json();\n            case 4:\n              data = _context2.v;\n              console.log(\"Success: \", data);\n              localStorage.setItem('user', JSON.stringify(response));\n              localStorage.setItem('accessToken', data.accessToken);\n              console.log(localStorage.getItem('accessToken'));\n              localStorage.setItem('refreshToken', data.refreshToken);\n\n              // Перенаправляем на главную страницу\n              _this2.$router.push('/');\n              _context2.n = 6;\n              break;\n            case 5:\n              _context2.p = 5;\n              _t2 = _context2.v;\n              console.error('Registration error:', _t2);\n              // Здесь можно добавить обработку ошибок\n            case 6:\n              _context2.p = 6;\n              _this2.loading = false;\n              return _context2.f(6);\n            case 7:\n              return _context2.a(2);\n          }\n        }, _callee2, null, [[2, 5, 6, 7]]);\n      }))();\n    },\n    socialLogin: function socialLogin(provider) {\n      // Имитация социального входа\n      console.log(\"Social login with \".concat(provider));\n      // В реальном приложении здесь будет редирект на OAuth провайдера\n    }\n  }\n};","map":{"version":3,"names":["DangerousHTML","name","components","data","raw1tjg","activeTab","loading","loginForm","email","password","rememberMe","registerForm","firstName","lastName","confirmPassword","agreeTerms","methods","setActiveTab","tab","handleLogin","_this","_asyncToGenerator","_regenerator","m","_callee","userData","response","_t","w","_context","p","n","errorMessage","fetch","method","headers","body","JSON","stringify","v","ok","Error","responseData","message","concat","status","json","console","log","localStorage","setItem","accessToken","refreshToken","$router","push","error","includes","f","a","handleRegister","_this2","_callee2","_t2","_context2","alert","role","getItem","socialLogin","provider"],"sources":["src/views/auth.vue"],"sourcesContent":["<template>\n  <div class=\"auth-container1\">\n    <div class=\"auth-container2\">\n      <div class=\"auth-container3\">\n        <DangerousHTML\n          html=\"<style>\n  @media (prefers-reduced-motion: reduce) {\n  .auth-card, .auth-input, .auth-btn, .auth-toggle, .auth-social-btn {\n    transition: none;\n  }\n  .auth-decoration-left, .auth-decoration-right {\n    animation: none;\n  }\n  }\n  </style>\"\n        ></DangerousHTML>\n      </div>\n    </div>\n    <main id=\"auth-main\" class=\"auth\">\n      <div aria-hidden=\"true\" class=\"auth-background-texture\"></div>\n      <div class=\"auth-container\">\n        <div class=\"auth-header\">\n          <div class=\"auth-brand\">\n            <svg\n              width=\"32\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              height=\"32\"\n              viewBox=\"0 0 24 24\"\n              class=\"auth-logo-icon\"\n            >\n              <path\n                d=\"m16 18l6-6l-6-6M8 6l-6 6l6 6\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                stroke-width=\"2\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              ></path>\n            </svg>\n            <span class=\"auth-logo-text\">CodeCraft Template</span>\n          </div>\n          <p class=\"auth-tagline\">\n            Войдите в свою мастерскую создания учебных задач\n            <span v-html=\"raw1tjg\"></span>\n          </p>\n        </div>\n\n        <div class=\"auth-card\">\n          <div class=\"auth-tabs\">\n            <button \n              @click=\"setActiveTab('login')\"\n              :class=\"['auth-tab', { 'auth-tab--active': activeTab === 'login' }]\"\n              aria-controls=\"login-form\"\n              aria-selected=\"true\"\n            >\n              <svg width=\"20\" xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" viewBox=\"0 0 24 24\">\n                <g fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                  <path d=\"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4\"></path>\n                  <path d=\"m10 17l5-5l-5-5\"></path>\n                  <path d=\"M15 12H3\"></path>\n                </g>\n              </svg>\n              <span>Вход</span>\n            </button>\n            <button \n              @click=\"setActiveTab('register')\"\n              :class=\"['auth-tab', { 'auth-tab--active': activeTab === 'register' }]\"\n              aria-controls=\"register-form\"\n              aria-selected=\"false\"\n            >\n              <svg width=\"20\" xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" viewBox=\"0 0 24 24\">\n                <g fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                  <path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"></path>\n                  <circle r=\"4\" cx=\"9\" cy=\"7\"></circle>\n                  <path d=\"M19 8v6m3-3h-6\"></path>\n                </g>\n              </svg>\n              <span>Регистрация</span>\n            </button>\n          </div>\n\n          <!-- Форма входа -->\n          <form \n            v-if=\"activeTab === 'login'\" \n            id=\"login-form\"\n            @submit.prevent=\"handleLogin\"\n            class=\"auth-form\"\n          >\n            <div class=\"form-group\">\n              <label for=\"login-email\" class=\"auth-label\">\n                <svg width=\"18\" xmlns=\"http://www.w3.org/2000/svg\" height=\"18\" viewBox=\"0 0 24 24\">\n                  <g fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                    <path d=\"m22 7l-8.991 5.727a2 2 0 0 1-2.009 0L2 7\"></path>\n                    <rect x=\"2\" y=\"4\" rx=\"2\" width=\"20\" height=\"16\"></rect>\n                  </g>\n                </svg>\n                <span>Email</span>\n              </label>\n              <input\n                v-model=\"loginForm.email\"\n                type=\"email\"\n                id=\"login-email\"\n                required\n                placeholder=\"your.email@example.com\"\n                class=\"auth-input\"\n              >\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"login-password\" class=\"auth-label\">\n                <svg width=\"18\" xmlns=\"http://www.w3.org/2000/svg\" height=\"18\" viewBox=\"0 0 24 24\">\n                  <path\n                    d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                  ></path>\n                </svg>\n                <span>Пароль</span>\n              </label>\n              <input\n                v-model=\"loginForm.password\"\n                type=\"password\"\n                id=\"login-password\"\n                required\n                placeholder=\"••••••••\"\n                class=\"auth-input\"\n              >\n            </div>\n\n            <div class=\"auth-options\">\n              <label class=\"auth-checkbox\">\n                <input v-model=\"loginForm.rememberMe\" type=\"checkbox\" class=\"auth-checkbox-input\">\n                <span class=\"auth-checkbox-label\">Запомнить меня</span>\n              </label>\n              <a href=\"#forgot-password\" class=\"auth-link\">\n                <span>Забыли пароль?</span>\n              </a>\n            </div>\n\n            <button \n              type=\"submit\" \n              :disabled=\"loading\"\n              class=\"auth-btn btn-primary btn\"\n            >\n              <span v-if=\"loading\" class=\"auth-btn-loading\">\n                <svg width=\"18\" xmlns=\"http://www.w3.org/2000/svg\" height=\"18\" viewBox=\"0 0 24 24\" class=\"auth-spinner\">\n                  <path\n                    d=\"M21 12a9 9 0 1 1-6.219-8.56\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                  ></path>\n                </svg>\n                Вход...\n              </span>\n              <span v-else>\n                <svg width=\"18\" xmlns=\"http://www.w3.org/2000/svg\" height=\"18\" viewBox=\"0 0 24 24\">\n                  <g fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                    <path d=\"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4\"></path>\n                    <path d=\"m10 17l5-5l-5-5\"></path>\n                    <path d=\"M15 12H3\"></path>\n                  </g>\n                </svg>\n                Войти в систему\n              </span>\n            </button>\n          </form>\n\n          <!-- Форма регистрации -->\n          <form \n            v-if=\"activeTab === 'register'\" \n            id=\"register-form\"\n            @submit.prevent=\"handleRegister\"\n            class=\"auth-form\"\n          >\n            <div class=\"form-row\">\n              <div class=\"form-group\">\n                <label for=\"register-firstName\" class=\"auth-label\">\n                  <svg width=\"18\" xmlns=\"http://www.w3.org/2000/svg\" height=\"18\" viewBox=\"0 0 24 24\">\n                    <g fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                      <path d=\"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\"></path>\n                      <circle r=\"4\" cx=\"12\" cy=\"7\"></circle>\n                    </g>\n                  </svg>\n                  <span>Имя</span>\n                </label>\n                <input\n                  v-model=\"registerForm.firstName\"\n                  type=\"text\"\n                  id=\"register-firstName\"\n                  required\n                  placeholder=\"Иван\"\n                  class=\"auth-input\"\n                >\n              </div>\n              <div class=\"form-group\">\n                <label for=\"register-lastName\" class=\"auth-label\">\n                  <span>Фамилия</span>\n                </label>\n                <input\n                  v-model=\"registerForm.lastName\"\n                  type=\"text\"\n                  id=\"register-lastName\"\n                  required\n                  placeholder=\"Петров\"\n                  class=\"auth-input\"\n                >\n              </div>\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"register-email\" class=\"auth-label\">\n                <svg width=\"18\" xmlns=\"http://www.w3.org/2000/svg\" height=\"18\" viewBox=\"0 0 24 24\">\n                  <g fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                    <path d=\"m22 7l-8.991 5.727a2 2 0 0 1-2.009 0L2 7\"></path>\n                    <rect x=\"2\" y=\"4\" rx=\"2\" width=\"20\" height=\"16\"></rect>\n                  </g>\n                </svg>\n                <span>Email</span>\n              </label>\n              <input\n                v-model=\"registerForm.email\"\n                type=\"email\"\n                id=\"register-email\"\n                required\n                placeholder=\"your.email@example.com\"\n                class=\"auth-input\"\n              >\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"register-password\" class=\"auth-label\">\n                <svg width=\"18\" xmlns=\"http://www.w3.org/2000/svg\" height=\"18\" viewBox=\"0 0 24 24\">\n                  <path\n                    d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                  ></path>\n                </svg>\n                <span>Пароль</span>\n              </label>\n              <input\n                v-model=\"registerForm.password\"\n                type=\"password\"\n                id=\"register-password\"\n                required\n                placeholder=\"••••••••\"\n                class=\"auth-input\"\n              >\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"register-confirmPassword\" class=\"auth-label\">\n                <svg width=\"18\" xmlns=\"http://www.w3.org/2000/svg\" height=\"18\" viewBox=\"0 0 24 24\">\n                  <path\n                    d=\"M20 6L9 17l-5-5\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                  ></path>\n                </svg>\n                <span>Подтверждение пароля</span>\n              </label>\n              <input\n                v-model=\"registerForm.confirmPassword\"\n                type=\"password\"\n                id=\"register-confirmPassword\"\n                required\n                placeholder=\"••••••••\"\n                class=\"auth-input\"\n              >\n            </div>\n\n            <label class=\"auth-checkbox\">\n              <input v-model=\"registerForm.agreeTerms\" type=\"checkbox\" class=\"auth-checkbox-input\" required>\n              <span class=\"auth-checkbox-label\">\n                Я согласен с \n                <a href=\"#terms\" class=\"auth-link\">условиями использования</a>\n                и \n                <a href=\"#privacy\" class=\"auth-link\">политикой конфиденциальности</a>\n              </span>\n            </label>\n\n            <button \n              type=\"submit\" \n              :disabled=\"loading\"\n              class=\"auth-btn btn-accent btn\"\n            >\n              <span v-if=\"loading\" class=\"auth-btn-loading\">\n                <svg width=\"18\" xmlns=\"http://www.w3.org/2000/svg\" height=\"18\" viewBox=\"0 0 24 24\" class=\"auth-spinner\">\n                  <path\n                    d=\"M21 12a9 9 0 1 1-6.219-8.56\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                  ></path>\n                </svg>\n                Регистрация...\n              </span>\n              <span v-else>\n                <svg width=\"18\" xmlns=\"http://www.w3.org/2000/svg\" height=\"18\" viewBox=\"0 0 24 24\">\n                  <g fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                    <path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"></path>\n                    <circle r=\"4\" cx=\"9\" cy=\"7\"></circle>\n                    <path d=\"M19 8v6m3-3h-6\"></path>\n                  </g>\n                </svg>\n                Создать аккаунт\n              </span>\n            </button>\n          </form>\n\n          <div class=\"auth-divider\">\n            <span class=\"auth-divider-text\">или продолжите с помощью</span>\n          </div>\n\n          <div class=\"auth-social\">\n            <button @click=\"socialLogin('google')\" class=\"auth-social-btn btn-outline btn\">\n              <svg width=\"18\" xmlns=\"http://www.w3.org/2000/svg\" height=\"18\" viewBox=\"0 0 24 24\">\n                <path\n                  d=\"M21 12a9 9 0 1 1-9-9c2.5 0 4.5 1 6 2l-3 3\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  stroke-width=\"2\"\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                ></path>\n              </svg>\n              <span>Google</span>\n            </button>\n            <button @click=\"socialLogin('github')\" class=\"auth-social-btn btn-outline btn\">\n              <svg width=\"18\" xmlns=\"http://www.w3.org/2000/svg\" height=\"18\" viewBox=\"0 0 24 24\">\n                <g fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                  <path\n                    d=\"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77A5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22\"\n                  ></path>\n                </g>\n              </svg>\n              <span>GitHub</span>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"auth-footer\">\n          <p class=\"auth-copyright\">\n            <svg width=\"16\" xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" viewBox=\"0 0 24 24\">\n              <path\n                d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                stroke-width=\"2\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              ></path>\n            </svg>\n            <span>© 2025 CodeCraft Template. Ваши данные в безопасности.</span>\n          </p>\n        </div>\n      </div>\n      <div\n        aria-hidden=\"true\"\n        class=\"auth-decoration-left auth-decoration\"\n      ></div>\n      <div\n        aria-hidden=\"true\"\n        class=\"auth-decoration-right auth-decoration\"\n      ></div>\n    </main>\n    <div class=\"auth-container4\">\n      <div class=\"auth-container5\">\n        <DangerousHTML\n          html=\"<style>\n          @keyframes auth-fade-in {from {opacity: 0; transform: translateY(10px);}\n  to {opacity: 1; transform: translateY(0);}}@keyframes auth-slide-in {from {transform: translateX(-20px); opacity: 0;}\n  to {transform: translateX(0); opacity: 1;}}\n          </style> \"\n        ></DangerousHTML>\n      </div>\n    </div>\n    <div class=\"auth-container6\">\n      <div class=\"auth-container7\">\n        <DangerousHTML\n          html=\"<script defer data-name='auth'>\n  (function(){\n    // Smooth form transitions\n    const authTabs = document.querySelectorAll('.auth-tab')\n    const authForms = document.querySelectorAll('.auth-form')\n  \n    authTabs.forEach(tab => {\n      tab.addEventListener('click', function() {\n        const target = this.getAttribute('aria-controls')\n        \n        // Smooth transition between forms\n        authForms.forEach(form => {\n          if (form.id === target) {\n            form.style.opacity = '0'\n            form.style.transform = 'translateX(20px)'\n            \n            setTimeout(() => {\n              form.style.display = 'block'\n              setTimeout(() => {\n                form.style.opacity = '1'\n                form.style.transform = 'translateX(0)'\n              }, 50)\n            }, 150)\n          } else {\n            form.style.opacity = '0'\n            form.style.transform = 'translateX(-20px)'\n            setTimeout(() => {\n              form.style.display = 'none'\n            }, 150)\n          }\n        })\n      })\n    })\n  \n    // Input focus effects\n    const authInputs = document.querySelectorAll('.auth-input')\n    \n    authInputs.forEach(input => {\n      input.addEventListener('focus', function() {\n        this.parentElement.classList.add('auth-input--focused')\n      })\n      \n      input.addEventListener('blur', function() {\n        if (!this.value) {\n          this.parentElement.classList.remove('auth-input--focused')\n        }\n      })\n    })\n  \n    // Social button hover effects\n    const socialButtons = document.querySelectorAll('.auth-social-btn')\n    \n    socialButtons.forEach(btn => {\n      btn.addEventListener('mouseenter', function() {\n        this.style.transform = 'translateY(-2px)'\n      })\n      \n      btn.addEventListener('mouseleave', function() {\n        this.style.transform = 'translateY(0)'\n      })\n    })\n  \n    // Password strength indicator (for register form)\n    const passwordInput = document.getElementById('register-password')\n    if (passwordInput) {\n      passwordInput.addEventListener('input', function() {\n        const strength = calculatePasswordStrength(this.value)\n        updatePasswordStrength(strength)\n      })\n    }\n  \n    function calculatePasswordStrength(password) {\n      let strength = 0\n      if (password.length >= 8) strength++\n      if (/[A-Z]/.test(password)) strength++\n      if (/[0-9]/.test(password)) strength++\n      if (/[^A-Za-z0-9]/.test(password)) strength++\n      return strength\n    }\n  \n    function updatePasswordStrength(strength) {\n      // Implementation for password strength indicator\n    }\n  })()\n  </script>\"\n        ></DangerousHTML>\n      </div>\n    </div>\n  </div>\n  \n</template>\n\n<script>\nimport DangerousHTML from 'dangerous-html/vue'\n\nexport default {\n  name: 'Auth',\n  components: {\n    DangerousHTML,\n  },\n  data() {\n    return {\n      raw1tjg: ' ',\n      activeTab: 'login',\n      loading: false,\n      loginForm: {\n        email: '',\n        password: '',\n        rememberMe: false\n      },\n      registerForm: {\n        firstName: '',\n        lastName: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n        agreeTerms: false\n      }\n    }\n  },\n  methods: {\n    setActiveTab(tab) {\n      this.activeTab = tab\n    },\n\n   async handleLogin() {\n  this.loading = true\n  this.errorMessage = ''\n  try {\n    const userData = {\n      email: this.loginForm.email,\n      password: this.loginForm.password,\n    }\n\n    const response = await fetch(\"http://hobbit1021.ru:50305/api/auth/login\", {\n    //const response = await fetch(\"http://localhost:50307/api/auth/login\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json', // ИСПРАВЛЕНА ОПЕЧАТКА\n        'accept': '*/*'\n      },\n      body: JSON.stringify(userData)\n    })\n\n    if (!response.ok) {\n      throw new Error(responseData.message || `HTTP error! status: ${response.status}`)\n    }\n\n    const data = await response.json()\n    console.log(\"Success: \", data)\n\n\n    localStorage.setItem('user', JSON.stringify(data))\n    localStorage.setItem('accessToken', data.accessToken)\n    localStorage.setItem('refreshToken', data.refreshToken)\n      if (this.loginForm.rememberMe) {\n        localStorage.setItem('rememberMe', 'true')\n      }\n\n      // Перенаправляем на главную страницу\n      this.$router.push('/')\n\n\n  } catch (error) {\n    console.error('Login error:', error)\n\n    // Показываем пользователю понятное сообщение об ошибке\n    if (error.message === \"Invalid credentials\") {\n      this.errorMessage = \"Неверный email или пароль. Проверьте введенные данные.\"\n    } else if (error.message.includes(\"HTTP error! status: 401\")) {\n      this.errorMessage = \"Неверный email или пароль. Проверьте введенные данные.\"\n    } else if (error.message.includes(\"HTTP error! status: 400\")) {\n      this.errorMessage = \"Некорректные данные. Проверьте формат email и пароля.\"\n    } else if (error.message.includes(\"HTTP error! status: 500\")) {\n      this.errorMessage = \"Внутренняя ошибка сервера. Попробуйте позже.\"\n    } else if (error.message.includes(\"Network Error\") || error.message.includes(\"Failed to fetch\")) {\n      this.errorMessage = \"Ошибка соединения. Проверьте интернет-соединение.\"\n    } else {\n      this.errorMessage = \"Ошибка входа: \" + error.message\n    }\n  }\n  finally {\n    this.loading = false\n  }\n},\n\n    async handleRegister() {\n      if (this.registerForm.password !== this.registerForm.confirmPassword) {\n        alert('Пароли не совпадают')\n        return\n      }\n      \n      this.loading = true\n      \n      try {\n        const userData = {\n          firstName: this.registerForm.firstName,\n          lastName: this.registerForm.lastName,\n          email: this.registerForm.email,\n          password: this.registerForm.password,\n          role: [\"admin\"]\n        }\n        const response = await fetch(\"http://hobbit1021.ru:50305/api/auth/register\", {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'accept': '*/*'\n          },\n          body: JSON.stringify(userData)\n        })\n\n        const data = await response.json()\n        console.log(\"Success: \", data)\n        \n        localStorage.setItem('user', JSON.stringify(response))\n        localStorage.setItem('accessToken', data.accessToken)\n        console.log(localStorage.getItem('accessToken'))\n        localStorage.setItem('refreshToken', data.refreshToken)\n\n        \n        // Перенаправляем на главную страницу\n        this.$router.push('/')\n        \n      } catch (error) {\n        console.error('Registration error:', error)\n        // Здесь можно добавить обработку ошибок\n      } finally {\n        this.loading = false\n      }\n    },\n\n    socialLogin(provider) {\n      // Имитация социального входа\n      console.log(`Social login with ${provider}`)\n      // В реальном приложении здесь будет редирект на OAuth провайдера\n    }\n  }\n}\n</script>\n\n<style scoped>\n.auth-container1 {\n  display: contents;\n}\n \n.auth-container2 {\n  display: none;\n}\n \n.auth-container3 {\n  display: contents;\n}\n \n.auth-container4 {\n  display: none;\n}\n \n.auth-container5 {\n  display: contents;\n}\n \n.auth-container6 {\n  display: none;\n}\n \n.auth-container7 {\n  display: contents;\n}\n\n/* Стили для авторизации */\n.auth {\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: var(--spacing-2xl);\n  background: var(--color-surface);\n  position: relative;\n}\n\n.auth-background-texture {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: repeating-linear-gradient(\n      45deg,\n      transparent,\n      transparent 2px,\n      color-mix(in srgb, var(--color-border) 5%, transparent) 2px,\n      color-mix(in srgb, var(--color-border) 5%, transparent) 4px\n    );\n  pointer-events: none;\n  z-index: 1;\n  opacity: 0.2;\n}\n\n.auth-container {\n  max-width: 440px;\n  width: 100%;\n  z-index: 2;\n}\n\n.auth-header {\n  text-align: center;\n  margin-bottom: var(--spacing-2xl);\n}\n\n.auth-brand {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--spacing-sm);\n  margin-bottom: var(--spacing-md);\n}\n\n.auth-logo-icon {\n  color: var(--color-primary);\n}\n\n.auth-logo-text {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--color-on-surface);\n}\n\n.auth-tagline {\n  color: var(--color-on-surface-variant);\n  font-size: 0.95rem;\n  line-height: 1.5;\n}\n\n.auth-card {\n  background: var(--color-surface-container);\n  border: 1px solid var(--color-border);\n  border-radius: var(--border-radius-lg);\n  padding: var(--spacing-2xl);\n  box-shadow: var(--shadow-md);\n}\n\n.auth-tabs {\n  display: flex;\n  background: var(--color-surface-variant);\n  border-radius: var(--border-radius-md);\n  padding: var(--spacing-xs);\n  margin-bottom: var(--spacing-xl);\n}\n\n.auth-tab {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-md) var(--spacing-lg);\n  border: none;\n  background: transparent;\n  border-radius: var(--border-radius-sm);\n  cursor: pointer;\n  transition: all var(--animation-duration-standard) var(--animation-curve-primary);\n  color: var(--color-on-surface-variant);\n}\n\n.auth-tab--active {\n  background: var(--color-surface);\n  color: var(--color-primary);\n  box-shadow: var(--shadow-sm);\n}\n\n.auth-form {\n  transition: all var(--animation-duration-standard) var(--animation-curve-primary);\n}\n\n.form-row {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: var(--spacing-md);\n}\n\n.form-group {\n  margin-bottom: var(--spacing-lg);\n}\n\n.auth-label {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  margin-bottom: var(--spacing-sm);\n  font-weight: 500;\n  color: var(--color-on-surface);\n  font-size: 0.9rem;\n}\n\n.auth-input {\n  width: 100%;\n  padding: var(--spacing-md) var(--spacing-lg);\n  border: 1px solid var(--color-border);\n  border-radius: var(--border-radius-md);\n  background: var(--color-surface);\n  color: var(--color-on-surface);\n  transition: all var(--animation-duration-standard) var(--animation-curve-primary);\n}\n\n.auth-input:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 2px color-mix(in srgb, var(--color-primary) 20%, transparent);\n}\n\n.auth-options {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--spacing-xl);\n}\n\n.auth-checkbox {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  cursor: pointer;\n}\n\n.auth-checkbox-input {\n  width: 16px;\n  height: 16px;\n}\n\n.auth-checkbox-label {\n  font-size: 0.9rem;\n  color: var(--color-on-surface-variant);\n}\n\n.auth-link {\n  color: var(--color-primary);\n  text-decoration: none;\n  font-size: 0.9rem;\n  transition: color var(--animation-duration-standard) var(--animation-curve-primary);\n}\n\n.auth-link:hover {\n  color: var(--color-primary-dark);\n  text-decoration: underline;\n}\n\n.auth-btn {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-lg);\n  margin-bottom: var(--spacing-xl);\n}\n\n.auth-btn-loading {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n}\n\n.auth-spinner {\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n\n.auth-divider {\n  position: relative;\n  text-align: center;\n  margin-bottom: var(--spacing-xl);\n}\n\n.auth-divider::before {\n  content: '';\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  height: 1px;\n  background: var(--color-border);\n}\n\n.auth-divider-text {\n  background: var(--color-surface-container);\n  padding: 0 var(--spacing-md);\n  color: var(--color-on-surface-variant);\n  font-size: 0.9rem;\n  position: relative;\n  z-index: 1;\n}\n\n.auth-social {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: var(--spacing-md);\n}\n\n.auth-social-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-md);\n}\n\n.auth-footer {\n  text-align: center;\n  margin-top: var(--spacing-2xl);\n}\n\n.auth-copyright {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--spacing-sm);\n  color: var(--color-on-surface-variant);\n  font-size: 0.85rem;\n}\n\n.auth-decoration {\n  position: absolute;\n  width: 200px;\n  height: 200px;\n  opacity: 0.1;\n  pointer-events: none;\n}\n\n.auth-decoration-left {\n  left: 10%;\n  bottom: 20%;\n  background: var(--color-primary);\n  border-radius: 50%;\n  filter: blur(40px);\n}\n\n.auth-decoration-right {\n  right: 10%;\n  top: 20%;\n  background: var(--color-accent);\n  border-radius: 50%;\n  filter: blur(40px);\n}\n\n@media (max-width: 768px) {\n  .auth {\n    padding: var(--spacing-lg);\n  }\n  \n  .auth-card {\n    padding: var(--spacing-xl);\n  }\n  \n  .form-row {\n    grid-template-columns: 1fr;\n  }\n  \n  .auth-social {\n    grid-template-columns: 1fr;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}